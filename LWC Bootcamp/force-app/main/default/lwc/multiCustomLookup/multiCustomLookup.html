<template>
    <div class="slds-box slds-theme_default">
        <div class="slds-form-element">
            <div class="slds-form-element__control">
            <div class="slds-combobox_container">
            <div
             class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click slds-is-open"
             >
            <div 
            class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right" role="none"
            >
            <lightning-input 
            type="search" 
            label={label} 
            placeholder = {placeHolder} 
            onchange ={changeHandler}
            class="slds-var-p-left_small slds-var-p-right_small"
            ></lightning-input>

            </div>
            <template lwc:if = {showPillContainer}>
                <lightning-pill-container
                    items={selectedRecords}
                    onitemremove={handleItemRemove}                    ></lightning-pill-container>
            </template>
            <template lwc:if={hasRecords}>
            <div 
                id="listbox-id-2" 
                class="slds-dropdown slds-dropdown_length-with-icon-7 slds-dropdown_fluid" 
                role="listbox" 
                tabindex="0" 
                aria-busy="false">
            <ul 
                class="slds-listbox slds-listbox_vertical" 
                role="presentation"
                >
                <template for:each={searchOutput} for:item="output">
            <li 
            key = {output.Id}
            role="presentation" 
            class="slds-listbox__item" 
            onclick={clickHandler}
            >
            <div id="option16" class="slds-media slds-listbox__option slds-listbox__option_entity slds-listbox__option_has-meta" role="option">
            <span class="slds-media__figure slds-listbox__option-icon">
            <span class="slds-icon_container slds-icon-standard-account">
            <lightning-icon icon-name={iconName} size="small" alternative-text={output.Name}>
            </lightning-icon>
            </span>
            </span>
            <span class="slds-media__body">
            <span class="slds-listbox__option-text slds-listbox__option-text_entity" data-recid = {output.Id}>{output.Name}</span>
            </span>
            </div>
            </li>
        </template>
            <li role="presentation" class="slds-listbox__item">
            <div id="option17" class="slds-media slds-listbox__option slds-listbox__option_entity slds-listbox__option_has-meta" role="option">
            <span class="slds-media__figure slds-listbox__option-icon">
            <span class="slds-icon_container slds-icon-standard-account">
            <svg class="slds-icon slds-icon_small" aria-hidden="true">
            <use xlink:href="/assets/icons/standard-sprite/svg/symbols.svg#account"></use>
            </svg>
            </span>
            </span>
            <span class="slds-media__body">
            <span class="slds-listbox__option-text slds-listbox__option-text_entity">Dickenson plc</span>
            <span class="slds-listbox__option-meta slds-listbox__option-meta_entity">Account • Lawrence, KS</span>
            </span>
            </div>
            </li>
            <li role="presentation" class="slds-listbox__item">
            <div id="option18" class="slds-media slds-listbox__option slds-listbox__option_entity slds-listbox__option_has-meta" role="option">
            <span class="slds-media__figure slds-listbox__option-icon">
            <span class="slds-icon_container slds-icon-standard-account">
            <svg class="slds-icon slds-icon_small" aria-hidden="true">
            <use xlink:href="/assets/icons/standard-sprite/svg/symbols.svg#account"></use>
            </svg>
            </span>
            </span>
            <span class="slds-media__body">
            <span class="slds-listbox__option-text slds-listbox__option-text_entity">Edge Communications</span>
            <span class="slds-listbox__option-meta slds-listbox__option-meta_entity">Account • Austin, TX</span>
            </span>
            </div>
            </li>
            </ul>
            </div>
        </template>
            </div>
            </div>
            </div>
            </div>
        </div>
</template>